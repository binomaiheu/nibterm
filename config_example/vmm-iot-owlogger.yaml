# Command set for the vmm-iot-gwlogger devices
# Bino Maiheu, (c) VMM 2023 - 2026
name: vmm-iot-owlogger
commands:
  - label: help
    command: "help\n"
    description: Show help for the commands
  - label: show
    command: "show\n"
    description: Show information about the device.
  - label: start
    command: "start\n"
    description: Start the device with current settings.
  - label: time
    command: "time\n"
    description: Get the time of the device
  - label: sync
    command: "sync\n"
    description: Sync the time of the device with the operator.
  - label: gps
    command: "gps -t {timeout}\n"
    description: Get the GPS coordinates of the device.
    params:
      - name: timeout
        label: Timeout
        default: "60"
        description: Timeout in seconds for the GPS request.
  - label: store
    command: "store\n"
    description: Store current settings in EEPROM. 
  - label: modem
    command: "modem {enable}\n"
    description: Enable/disable modem.
    params:
      - name: enable
        label: Enable (0/1)
        default: "1"
        description: 1 to enable, 0 to disable.
  - label: ch
    command: "ch {num} {enable}\n"
    description: Enable/disable channel.
    params:
      - name: num
        label: Channel number
        default: "1"
        description: Channel number (1-4).
      - name: enable
        label: Enable (0/1)
        default: "1"
        description: 1 to enable, 0 to disable.
  - label: chcnf
    command: "chcnf {num} {name} {cnf}\n"
    description: Configure channel.
    params:
      - name: num
        label: Channel number
        default: "1"
        description: Channel number (1-4).
      - name: name
        label: Name
        default: "s1"
        description: Name of the channel.
      - name: cnf
        label: Configuration
        default: "1.0;0.0;0.0;8.0"
        description: Configuration string (see. documentation).
  - label: chpwr
    command: "chpwr {num} {pwr}\n"
    description: Set the power of the channel.
    params:
      - name: num
        label: Channel number
        default: "1"
        description: Channel number (1-4).
      - name: pwr
        label: Power
        default: "0"
        description: 12V power disable/enable (0/1).
  - label: batt
    command: "batt\n"
    description: Get the battery level of the device.
  - label: sleep
    command: "sleep -s {duration}\n"
    description: Put the device to sleep for a certain duration.
    params:
      - name: duration
        label: Duration
        default: "60"
        description: Duration in seconds to sleep.
  - label: read
    command: "read\n"
    description: Read the sensors.
  - label: arch -r
    command: "arch -r\n"
    description: Read the device archive
  - label: arch -c
    command: "arch -c\n"
    description: Clear the device archive
  - label: init 
    command: "init\n"
    description: Initialize the device (reset to factory settings).
  - label: status
    command: "status\n"
    description: Get the status of the device and check for cmd payload on MQTT.
  - label: set loc
    command: "set loc {name}\n"
    description: Set location of the device.
    params:
      - name: name
        label: Name
        default: "unknown"
        description: Name of the location.
  - label: set name
    command: "set name {name}\n"
    description: Set the name of the device.
    params:
      - name: name
        label: Name
        default: "0"
        description: Name of the device.
  - label: set net
    command: "set net {name}\n"
    description: Set the network of the device.
    params:
      - name: name
        label: Name
        default: "surfacewater"
        description: Name of the network.
  - label: set rf
    command: "set rf {min}\n"
    description: Set the readout frequency
    params:
      - name: min
        label: Minutes
        default: "15"
        description: Duration in minutes for the readout frequency.
  - label: set sf 
    command: "set sf {min}\n"
    description: Set the status frequency
    params:
      - name: min
        label: Minutes
        default: "15"
        description: Duration in minutes for the status frequency.
 